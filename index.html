<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>AI Portrait Studio</title>
    <!-- –®—Ä–∏—Ñ—Ç—ã –∏ –∏–∫–æ–Ω–∫–∏ -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        /* --- CSS –ü–ï–†–ï–ú–ï–ù–ù–´–ï –ò –°–ë–†–û–° --- */
        :root {
            --bg-app: #0f0f0f;
            --bg-sidebar: #121212;
            --bg-card: #1a1a1a;
            --bg-input: #262626;
            --bg-hover: #2a2a2a;
            
            --text-main: #ededed;
            --text-dim: #9b9b9b;
            --border-color: #333;

            --accent: #ffffff; /* –ë–µ–ª—ã–π –∞–∫—Ü–µ–Ω—Ç (–∫–∞–∫ –≤ Grok/Linear) */
            --danger: #ef4444;
            --kaspi: #f14635;

            --radius-md: 12px;
            --radius-lg: 18px;
            --nav-height: 64px;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; -webkit-tap-highlight-color: transparent; }
        
        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-app);
            color: var(--text-main);
            height: 100vh;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        /* --- UI –ö–û–ú–ü–û–ù–ï–ù–¢–´ --- */
        .hidden { display: none !important; }
        .flex { display: flex; }
        .flex-col { flex-direction: column; }
        .items-center { align-items: center; }
        .justify-between { justify-content: space-between; }
        .gap-2 { gap: 0.5rem; }
        .gap-4 { gap: 1rem; }
        .w-full { width: 100%; }
        .text-dim { color: var(--text-dim); font-size: 0.9rem; }
        .text-center { text-align: center; }

        /* –¢–∏–ø–æ–≥—Ä–∞—Ñ–∏–∫–∞ */
        h1 { font-size: 1.5rem; font-weight: 600; margin-bottom: 0.5rem; }
        h2 { font-size: 1.25rem; font-weight: 500; margin-bottom: 1rem; }
        p { line-height: 1.5; margin-bottom: 1rem; }

        /* –ö–Ω–æ–ø–∫–∏ */
        .btn {
            display: inline-flex; align-items: center; justify-content: center;
            padding: 12px 20px; border-radius: var(--radius-md);
            font-weight: 500; font-size: 0.95rem; cursor: pointer;
            border: none; transition: 0.2s; text-decoration: none; width: 100%;
        }
        .btn:active { transform: scale(0.98); }
        
        .btn-primary { background: var(--text-main); color: var(--bg-app); }
        .btn-primary:hover { opacity: 0.9; }
        
        .btn-secondary { background: var(--bg-input); color: var(--text-main); border: 1px solid var(--border-color); }
        .btn-secondary:hover { background: var(--bg-hover); }

        .btn-danger { background: rgba(239, 68, 68, 0.15); color: var(--danger); }
        
        .btn-kaspi { background: transparent; border: 1px solid #333; color: var(--text-main); font-size: 0.85rem; padding: 10px; }
        .kaspi-logo { width: 20px; height: 20px; background: var(--kaspi); border-radius: 4px; margin-right: 8px; display: inline-block; vertical-align: middle; }

        /* –ò–Ω–ø—É—Ç—ã */
        input, select, textarea {
            width: 100%; background: var(--bg-input);
            border: 1px solid transparent; border-radius: var(--radius-md);
            padding: 12px 16px; color: var(--text-main); font-family: inherit;
            outline: none; margin-bottom: 1rem; font-size: 16px; /* No zoom iOS */
        }
        input:focus, textarea:focus { border-color: var(--text-dim); background: var(--bg-card); }

        /* –ö–∞—Ä—Ç–æ—á–∫–∏ */
        .card { background: var(--bg-card); padding: 20px; border-radius: var(--radius-lg); margin-bottom: 1rem; border: 1px solid #222; }

        /* --- –°–¢–†–£–ö–¢–£–†–ê --- */
        #app { display: flex; height: 100%; width: 100%; }

        /* –°–∞–π–¥–±–∞—Ä (Desktop) */
        .sidebar {
            width: 260px; background: var(--bg-sidebar); border-right: 1px solid #222;
            padding: 20px; display: none; flex-direction: column;
        }
        .sidebar h3 { margin-bottom: 30px; padding-left: 10px; }
        
        /* –ú–æ–±–∏–ª—å–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è */
        .mobile-nav {
            position: fixed; bottom: 0; left: 0; width: 100%; height: var(--nav-height);
            background: var(--bg-sidebar); border-top: 1px solid #222;
            display: flex; justify-content: space-around; align-items: center; z-index: 100;
        }
        .nav-item {
            color: var(--text-dim); background: none; border: none;
            display: flex; flex-direction: column; align-items: center; gap: 4px; font-size: 10px;
        }
        .nav-item.active { color: var(--text-main); }
        .nav-item svg { width: 22px; height: 22px; stroke: currentColor; fill: none; stroke-width: 2; }

        /* –ö–æ–Ω—Ç–µ–Ω—Ç–Ω–∞—è –æ–±–ª–∞—Å—Ç—å */
        .main-content {
            flex: 1; overflow-y: auto; padding: 20px; padding-bottom: 80px; position: relative;
        }

        /* --- –°–¢–†–ê–ù–ò–¶–´ --- */
        
        /* 1. Landing */
        #page-landing {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: #000; z-index: 200; display: flex; flex-direction: column;
            justify-content: flex-end; padding: 30px;
        }
        .landing-bg {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            opacity: 0.3; overflow: hidden; pointer-events: none;
        }
        .film-strip {
            display: flex; width: 200%; animation: scroll 20s linear infinite;
        }
        .film-row { display: flex; margin-bottom: 10px; }
        .film-img {
            width: 120px; height: 160px; background: #333; margin-right: 10px; border-radius: 8px;
            object-fit: cover; filter: grayscale(80%) brightness(0.7);
        }
        .landing-overlay {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(to bottom, rgba(15,15,15,0.2), #0f0f0f 90%);
        }
        .landing-content { position: relative; z-index: 2; max-width: 400px; margin: 0 auto; }
        
        @keyframes scroll { from { transform: translateX(0); } to { transform: translateX(-50%); } }

        /* 2. Demo & General Grid */
        .image-grid {
            display: grid; grid-template-columns: repeat(auto-fill, minmax(140px, 1fr)); gap: 10px; margin-top: 1rem;
        }
        .placeholder-img {
            background: #222; aspect-ratio: 2/3; border-radius: var(--radius-md);
            display: flex; align-items: center; justify-content: center; color: #444;
            position: relative; overflow: hidden;
        }
        .placeholder-img img { width: 100%; height: 100%; object-fit: cover; }

        /* 3. Upload Area */
        .upload-area {
            border: 2px dashed #333; border-radius: var(--radius-md); padding: 40px 20px;
            text-align: center; color: var(--text-dim); transition: 0.2s; cursor: pointer;
        }
        .upload-area:hover { border-color: var(--text-main); background: var(--bg-card); }

        /* 5. Model Settings */
        .aspect-ratios { display: flex; gap: 10px; margin-bottom: 1rem; }
        .ratio-btn {
            flex: 1; padding: 10px; border: 1px solid var(--bg-input); background: var(--bg-input);
            border-radius: var(--radius-md); color: var(--text-dim); cursor: pointer;
        }
        .ratio-btn.active { border-color: var(--text-main); color: var(--text-main); background: var(--bg-card); }

        /* Modals */
        .modal-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.8); z-index: 300; display: flex; align-items: center; justify-content: center;
            opacity: 0; visibility: hidden; transition: 0.3s;
        }
        .modal-overlay.open { opacity: 1; visibility: visible; }
        .modal-box {
            background: var(--bg-card); width: 90%; max-width: 320px; padding: 24px;
            border-radius: var(--radius-lg); text-align: center; transform: translateY(20px); transition: 0.3s;
        }
        .modal-overlay.open .modal-box { transform: translateY(0); }

        /* Media Queries */
        @media (min-width: 768px) {
            .mobile-nav { display: none; }
            .sidebar { display: flex; }
            .image-grid { grid-template-columns: repeat(auto-fill, minmax(180px, 1fr)); }
            .landing-content { margin: 0; }
        }
    </style>
</head>
<body>

    <!-- 1. LANDING PAGE -->
    <div id="page-landing">
        <div class="landing-bg">
            <!-- –ò–º–∏—Ç–∞—Ü–∏—è –ø–ª–µ–Ω–∫–∏ -->
            <div class="film-row" style="transform: rotate(-5deg) scale(1.1);">
                <div class="film-strip">
                    <!-- –ó–∞–≥–ª—É—à–∫–∏ –¥–ª—è —Ñ–æ–Ω–∞ -->
                    <div class="film-img" style="background: #333"></div><div class="film-img" style="background: #444"></div>
                    <div class="film-img" style="background: #222"></div><div class="film-img" style="background: #555"></div>
                    <div class="film-img" style="background: #333"></div><div class="film-img" style="background: #444"></div>
                    <div class="film-img" style="background: #222"></div><div class="film-img" style="background: #555"></div>
                </div>
            </div>
        </div>
        <div class="landing-overlay"></div>
        
        <div class="landing-content">
            <h1 style="font-size: 2.5rem; line-height: 1.1;">AI Portrait<br>Genesis</h1>
            <p class="text-dim" style="margin: 20px 0;">–ó–∞–≥—Ä—É–∑–∏ —Å–≤–æ–∏ —Å–µ–ª—Ñ–∏ ‚Äî –ø–æ–ª—É—á–∏ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—É—é AI-–º–æ–¥–µ–ª—å —Å—Ç—É–¥–∏–π–Ω–æ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞.</p>
            
            <div class="flex flex-col gap-2">
                <button class="btn btn-primary" onclick="app.login()">–í–æ–π—Ç–∏ —á–µ—Ä–µ–∑ Google</button>
                <button class="btn btn-secondary" onclick="app.login()">–í–æ–π—Ç–∏ –ø–æ –Ω–æ–º–µ—Ä—É (KZ)</button>
                
                <div style="margin-top: 10px; text-align: center;">
                    <button class="btn-kaspi">
                        <span class="kaspi-logo"></span> –û–ø–ª–∞—Ç–∞ —á–µ—Ä–µ–∑ Kaspi
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- MAIN APP STRUCTURE -->
    <div id="app" class="hidden">
        
        <!-- Sidebar (Desktop) -->
        <aside class="sidebar">
            <h3>AI Studio</h3>
            <nav class="flex flex-col gap-2">
                <button class="btn btn-secondary" onclick="app.nav('create')">+ –ù–æ–≤–∞—è –º–æ–¥–µ–ª—å</button>
                <div style="height: 20px;"></div>
                <button class="btn btn-ghost" style="justify-content: flex-start; color: var(--text-dim);" onclick="app.nav('demo')">–î–µ–º–æ</button>
                <button class="btn btn-ghost" style="justify-content: flex-start; color: var(--text-dim);" onclick="app.nav('models')">–ú–æ–∏ –º–æ–¥–µ–ª–∏</button>
                <button class="btn btn-ghost" style="justify-content: flex-start; color: var(--text-dim);" onclick="app.nav('gallery')">–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞</button>
                <button class="btn btn-ghost" style="justify-content: flex-start; color: var(--text-dim);" onclick="app.nav('settings')">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</button>
            </nav>
        </aside>

        <!-- Content Area -->
        <main class="main-content">
            
            <!-- VIEW: DEMO -->
            <section id="view-demo" class="page-view">
                <h1>–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç</h1>
                <p class="text-dim">–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –±–µ–∑ —Å–æ–∑–¥–∞–Ω–∏—è –º–æ–¥–µ–ª–∏.</p>
                
                <div class="card">
                    <textarea rows="3" placeholder="–û–ø–∏—à–∏—Ç–µ –æ–±—Ä–∞–∑ (–Ω–∞–ø—Ä–∏–º–µ—Ä: –∫–∏–±–µ—Ä–ø–∞–Ω–∫ —Å–∞–º—É—Ä–∞–π)..."></textarea>
                    <button class="btn btn-primary" onclick="app.generateDemo()">–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å</button>
                </div>

                <div class="image-grid" id="demo-results">
                    <div class="placeholder-img"><span>Result 1</span></div>
                    <div class="placeholder-img"><span>Result 2</span></div>
                </div>

                <div class="card" style="margin-top: 2rem; background: linear-gradient(145deg, #1a1a1a, #222);">
                    <h3>–•–æ—Ç–∏—Ç–µ —Å–≤–æ—ë –ª–∏—Ü–æ?</h3>
                    <p class="text-dim" style="font-size: 0.9rem;">–û–±—É—á–∏—Ç–µ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—É—é –º–æ–¥–µ–ª—å –¥–ª—è –±–µ–∑–ª–∏–º–∏—Ç–Ω–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏.</p>
                    <div class="flex gap-2">
                        <button class="btn btn-primary" onclick="app.nav('create')">–°–æ–∑–¥–∞—Ç—å –º–æ–¥–µ–ª—å</button>
                        <button class="btn btn-secondary">üíé –ö—É–ø–∏—Ç—å –∫—Ä–∏—Å—Ç–∞–ª–ª—ã</button>
                    </div>
                </div>
            </section>

            <!-- VIEW: CREATE MODEL -->
            <section id="view-create" class="page-view hidden">
                <h1>–°–æ–∑–¥–∞–Ω–∏–µ –º–æ–¥–µ–ª–∏</h1>
                <p class="text-dim">–ó–∞–≥—Ä—É–∑–∏—Ç–µ 10-20 —Ñ–æ—Ç–æ –¥–ª—è –æ–±—É—á–µ–Ω–∏—è LoRA.</p>
                
                <div class="card">
                    <ul class="text-dim" style="padding-left: 20px; font-size: 0.85rem; margin-bottom: 20px;">
                        <li>–¢–æ–ª—å–∫–æ –æ–¥–Ω–æ –ª–∏—Ü–æ –≤ –∫–∞–¥—Ä–µ</li>
                        <li>–†–∞–∑–Ω—ã–µ —Ä–∞–∫—É—Ä—Å—ã –∏ –æ—Å–≤–µ—â–µ–Ω–∏–µ</li>
                        <li>–ë–µ–∑ –æ—á–∫–æ–≤ –∏ –≥–æ–ª–æ–≤–Ω—ã—Ö —É–±–æ—Ä–æ–≤</li>
                    </ul>

                    <div class="upload-area" onclick="document.getElementById('file-input').click()">
                        <div style="font-size: 2rem; margin-bottom: 10px;">‚òÅÔ∏è</div>
                        <p>–ù–∞–∂–º–∏—Ç–µ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–æ—Ç–æ</p>
                        <span class="text-dim">–í—ã–±—Ä–∞–Ω–æ: <span id="file-count">0</span>/20</span>
                        <input type="file" id="file-input" multiple style="display: none;" onchange="app.handleFiles(this)">
                    </div>
                </div>

                <button class="btn btn-primary" onclick="app.startTraining()">–û–±—É—á–∏—Ç—å (20 –º–∏–Ω) ‚Äî 500 üíé</button>
            </section>

            <!-- VIEW: MY MODELS -->
            <section id="view-models" class="page-view hidden">
                <div class="flex justify-between items-center" style="margin-bottom: 20px;">
                    <h1>–ú–æ–∏ –º–æ–¥–µ–ª–∏</h1>
                    <button class="btn btn-primary" style="width: auto; padding: 8px 16px;" onclick="app.nav('create')">+</button>
                </div>

                <!-- Model Card Active -->
                <div class="card">
                    <div class="flex justify-between items-center">
                        <div>
                            <h3>Anna Flux</h3>
                            <span style="color: #22c55e; font-size: 0.8rem;">‚óè –ì–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ</span>
                        </div>
                        <div style="width: 40px; height: 40px; background: #333; border-radius: 50%;"></div>
                    </div>
                    <div class="flex gap-2" style="margin-top: 15px;">
                        <button class="btn btn-primary" onclick="app.openGenerator('Anna Flux')">–ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å</button>
                        <button class="btn btn-secondary" style="width: auto;">‚ãÆ</button>
                    </div>
                </div>

                <!-- Model Card Processing -->
                <div class="card" style="opacity: 0.7;">
                    <div class="flex justify-between items-center">
                        <div>
                            <h3>Project X</h3>
                            <span style="color: #eab308; font-size: 0.8rem;">‚óè –û–±—É—á–µ–Ω–∏–µ (12 –º–∏–Ω...)</span>
                        </div>
                        <div class="loader" style="width: 20px; height: 20px; border: 2px solid #555; border-top-color: #fff; border-radius: 50%; animation: spin 1s infinite;"></div>
                    </div>
                </div>
            </section>

            <!-- VIEW: GENERATOR (WITH MODEL) -->
            <section id="view-generator" class="page-view hidden">
                <h1>–°—Ç—É–¥–∏—è</h1>
                
                <select id="model-select">
                    <option>Anna Flux (v1)</option>
                    <option>Cyber Style (v2)</option>
                </select>

                <div class="card">
                    <textarea rows="4" placeholder="–ü—Ä–æ–º–ø—Ç (–Ω–∞ —Ä—É—Å—Å–∫–æ–º –∏–ª–∏ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º)..."></textarea>
                    <p class="text-dim" style="font-size: 0.75rem; margin-top: 5px;">‚ú® –ü—Ä–æ–º–ø—Ç –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–ª—É—á—à–µ–Ω AI</p>
                    
                    <div style="margin: 15px 0;">
                        <label class="text-dim" style="font-size: 0.8rem; display: block; margin-bottom: 5px;">–§–æ—Ä–º–∞—Ç</label>
                        <div class="aspect-ratios">
                            <button class="ratio-btn active">2:3</button>
                            <button class="ratio-btn">1:1</button>
                            <button class="ratio-btn">16:9</button>
                        </div>
                    </div>

                    <button class="btn btn-primary" onclick="app.generateReal()">–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å</button>
                </div>
            </section>

            <!-- VIEW: GALLERY -->
            <section id="view-gallery" class="page-view hidden">
                <h1>–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞</h1>
                <div class="image-grid">
                    <div class="placeholder-img"><img src="https://picsum.photos/200/300?random=1" alt=""></div>
                    <div class="placeholder-img"><img src="https://picsum.photos/200/300?random=2" alt=""></div>
                    <div class="placeholder-img"><img src="https://picsum.photos/200/300?random=3" alt=""></div>
                    <div class="placeholder-img"><img src="https://picsum.photos/200/300?random=4" alt=""></div>
                </div>
            </section>

            <!-- VIEW: SETTINGS -->
            <section id="view-settings" class="page-view hidden">
                <h1>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</h1>
                
                <div class="card">
                    <h3>–ê–∫–∫–∞—É–Ω—Ç</h3>
                    <p class="text-dim">user@example.com</p>
                    <p class="text-dim">–ë–∞–ª–∞–Ω—Å: 120 üíé</p>
                </div>

                <div class="card" style="border-color: rgba(239, 68, 68, 0.3);">
                    <h3 style="color: var(--danger);">–û–ø–∞—Å–Ω–∞—è –∑–æ–Ω–∞</h3>
                    <p class="text-dim">–£–¥–∞–ª–µ–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–∞ —Å–æ—Ç—Ä–µ—Ç –≤—Å–µ –º–æ–¥–µ–ª–∏ –∏ —Ñ–æ—Ç–æ.</p>
                    <button class="btn btn-danger" onclick="app.confirmDelete()">–£–¥–∞–ª–∏—Ç—å –∞–∫–∫–∞—É–Ω—Ç</button>
                </div>
            </section>

        </main>

        <!-- Mobile Navigation -->
        <nav class="mobile-nav">
            <button class="nav-item active" onclick="app.nav('demo')">
                <svg viewBox="0 0 24 24"><path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"></path></svg>
                <span>–î–µ–º–æ</span>
            </button>
            <button class="nav-item" onclick="app.nav('models')">
                <svg viewBox="0 0 24 24"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><circle cx="8.5" cy="8.5" r="1.5"></circle><polyline points="21 15 16 10 5 21"></polyline></svg>
                <span>–ú–æ–¥–µ–ª–∏</span>
            </button>
            <button class="nav-item" onclick="app.nav('create')" style="color: var(--text-main);">
                <div style="background: var(--bg-card); padding: 10px; border-radius: 50%; margin-top: -20px; border: 1px solid #333;">
                    <svg viewBox="0 0 24 24"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg>
                </div>
            </button>
            <button class="nav-item" onclick="app.nav('gallery')">
                <svg viewBox="0 0 24 24"><rect x="3" y="3" width="7" height="7"></rect><rect x="14" y="3" width="7" height="7"></rect><rect x="14" y="14" width="7" height="7"></rect><rect x="3" y="14" width="7" height="7"></rect></svg>
                <span>–ì–∞–ª–µ—Ä–µ—è</span>
            </button>
            <button class="nav-item" onclick="app.nav('settings')">
                <svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="3"></circle><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path></svg>
                <span>–ú–µ–Ω—é</span>
            </button>
        </nav>
    </div>

    <!-- MODAL -->
    <div id="modal-confirm" class="modal-overlay">
        <div class="modal-box">
            <h3>–í—ã —É–≤–µ—Ä–µ–Ω—ã?</h3>
            <p class="text-dim">–≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–ª—å–∑—è –æ—Ç–º–µ–Ω–∏—Ç—å.</p>
            <div class="flex gap-2" style="margin-top: 20px;">
                <button class="btn btn-secondary" onclick="app.closeModal()">–û—Ç–º–µ–Ω–∞</button>
                <button class="btn btn-danger" onclick="alert('–ê–∫–∫–∞—É–Ω—Ç —É–¥–∞–ª–µ–Ω'); app.closeModal()">–£–¥–∞–ª–∏—Ç—å</button>
            </div>
        </div>
    </div>

    <!-- LOGIC -->
    <script>
        const app = {
            state: {
                currentView: 'demo',
                isLoggedIn: false
            },

            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
            init() {
                // –ê–Ω–∏–º–∞—Ü–∏—è —Ñ–æ–Ω–∞ (–ø—Ä–æ—Å—Ç–æ –¥–ª—è —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏, —á—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç)
                console.log("App initialized");
            },

            // –í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É
            login() {
                const landing = document.getElementById('page-landing');
                const mainApp = document.getElementById('app');
                
                // –ü—Ä–æ—Å—Ç–∞—è –∞–Ω–∏–º–∞—Ü–∏—è –∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏—è –ª–µ–Ω–¥–∏–Ω–≥–∞
                landing.style.opacity = '0';
                landing.style.transition = 'opacity 0.5s';
                
                setTimeout(() => {
                    landing.classList.add('hidden');
                    mainApp.classList.remove('hidden');
                    this.state.isLoggedIn = true;
                }, 500);
            },

            // –ù–∞–≤–∏–≥–∞—Ü–∏—è (SPA —Ä–æ—É—Ç–∏–Ω–≥)
            nav(viewName) {
                // –°–∫—Ä—ã—Ç—å –≤—Å–µ view
                document.querySelectorAll('.page-view').forEach(el => el.classList.add('hidden'));
                
                // –ü–æ–∫–∞–∑–∞—Ç—å –Ω—É–∂–Ω—ã–π view
                let targetId = 'view-' + viewName;
                if(viewName === 'generator') targetId = 'view-generator'; // alias if needed
                
                const targetEl = document.getElementById(targetId);
                if(targetEl) targetEl.classList.remove('hidden');

                // –û–±–Ω–æ–≤–∏—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å –≤ –º–µ–Ω—é
                document.querySelectorAll('.nav-item').forEach(btn => btn.classList.remove('active'));
                // –ü—Ä–æ—Å—Ç–∞—è –ª–æ–≥–∏–∫–∞ –ø–æ–¥—Å–≤–µ—Ç–∫–∏ (–º–æ–∂–Ω–æ —É—Å–ª–æ–∂–Ω–∏—Ç—å)
                const navIndex = ['demo', 'models', 'create', 'gallery', 'settings'].indexOf(viewName);
                if(navIndex >= 0) {
                    const navItems = document.querySelectorAll('.mobile-nav .nav-item');
                    if(navItems[navIndex]) navItems[navIndex].classList.add('active');
                }
                
                this.state.currentView = viewName;
            },

            // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤
            handleFiles(input) {
                const countSpan = document.getElementById('file-count');
                if (input.files) {
                    countSpan.innerText = input.files.length;
                }
            },

            // –ü–µ—Ä–µ—Ö–æ–¥ –∫ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—É —Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –º–æ–¥–µ–ª—å—é
            openGenerator(modelName) {
                this.nav('generator');
                // –õ–æ–≥–∏–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ select
            },

            // –ó–∞–≥–ª—É—à–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
            generateDemo() {
                const results = document.getElementById('demo-results');
                results.innerHTML = `
                    <div class="placeholder-img" style="animation: fadeIn 0.5s"><img src="https://picsum.photos/200/300?random=${Math.random()}" style="width:100%; height:100%; object-fit:cover;"></div>
                    <div class="placeholder-img" style="animation: fadeIn 0.5s"><img src="https://picsum.photos/200/300?random=${Math.random()}" style="width:100%; height:100%; object-fit:cover;"></div>
                `;
            },
            
            generateReal() {
                const btn = event.target;
                const originalText = btn.innerText;
                btn.innerText = "–ì–µ–Ω–µ—Ä–∞—Ü–∏—è...";
                btn.disabled = true;
                setTimeout(() => {
                    btn.innerText = originalText;
                    btn.disabled = false;
                    this.nav('gallery'); // –ü–µ—Ä–µ–∫–∏–¥—ã–≤–∞–µ–º –≤ –≥–∞–ª–µ—Ä–µ—é
                }, 2000);
            },

            startTraining() {
                alert('–ù–∞—á–∞–ª–æ—Å—å —Å–æ–∑–¥–∞–Ω–∏–µ –º–æ–¥–µ–ª–∏! –ú—ã –ø—Ä–∏—à–ª–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ 20 –º–∏–Ω—É—Ç.');
                this.nav('models');
            },

            // –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞
            confirmDelete() {
                document.getElementById('modal-confirm').classList.add('open');
            },
            closeModal() {
                document.getElementById('modal-confirm').classList.remove('open');
            }
        };

        // Keyframes for JS added elements
        const styleSheet = document.createElement("style");
        styleSheet.innerText = `
            @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
            @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        `;
        document.head.appendChild(styleSheet);

    </script>
</body>
</html>